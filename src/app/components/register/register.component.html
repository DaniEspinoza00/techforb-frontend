<div class="login-card">
    <h1>Portal de Monitoreo</h1>
    <h3>Registrarse</h3>
    <div class="form-container">
        <form [formGroup]="registerForm" (ngSubmit)="register()" action="">
            <fieldset>
                <legend>Usuario</legend>
                <input type="text" formControlName="username" placeholder="Inserte su username">
            </fieldset>
            @if (registerForm.get('username')?.invalid && registerForm.get('username')?.touched) {
            <div class="form-error">
                @if (registerForm.get('username')?.errors?.['required']) {
                <span>Usuario requerido</span>
                }
            </div>
            }
            <fieldset>
                <legend>Email</legend>
                <input type="email" formControlName="email" placeholder="Inserte su email">
            </fieldset>
            @if (registerForm.get('email')?.invalid && registerForm.get('email')?.touched) {
            <div class="form-error">
                @if (registerForm.get('email')?.errors?.['required']) {
                <span>Email requerido</span>
                }
                @if (registerForm.get('email')?.errors?.['email']) {
                <span>Ingrese una direccion de correo valida</span>
                }
            </div>
            }
            <fieldset>
                <legend>Contraseña</legend>
                <input type="password" formControlName="password" placeholder="Inserte su contraseña">
            </fieldset>
            @if (registerForm.get('password')?.invalid && registerForm.get('password')?.touched) {
            <div class="form-error">
                @if (registerForm.get('password')?.errors?.['required']) {
                <span>Contraseña requerida</span>
                }
                @if (registerForm.get('password')?.errors?.['pattern']) {
                <span>La contraseña debe contener un minimo de 8 caracteres y un caracter especial</span>
                }
            </div>
            }
            <fieldset>
                <legend>Repetir Contraseña</legend>
                <input type="password" formControlName="confirm" placeholder="Repita su contraseña">
            </fieldset>
            @if (registerForm.get('confirm')?.invalid && registerForm.get('confirm')?.touched) {
            <div class="form-error">
                @if (registerForm.get('confirm')?.errors?.['required']) {
                <span>Debe confirmar su contraseña.</span>
                }
                @if (!registerForm.hasError('DoNotMatch') && registerForm.get('confirm')?.touched) {
                <span>Las contraseñas no coinciden.</span>
                }
            </div>
            }
            <div class="options">
                <div><span class="text">Al menos 8 caracteres y una especial</span></div>
                <button mat-flat-button type="submit"><span>Registrarse</span></button>
            </div>
            <div class="terms-conditions">
                <span>Protegido por reCAPTCHA y sujeto a la </span><a class="links" href="">Politica de
                    Privacidad</a><span> y </span><a class="links" href="">Terminos y Condiciones</a>
            </div>
            <div class="terms-conditions noAccount">
                <span>¿Ya tienes una cuenta?</span><a (click)="displayLogin()" class="links">Iniciar Sesion</a>
            </div>
        </form>
    </div>
</div>